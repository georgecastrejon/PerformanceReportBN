<!DOCTYPE html>
<html>
<head>
  <title id="dynamic_title"> Banco de la Nación - Automatización de informes </title>
  <link rel="icon" href="./Common/Images/Icons/bn.png" type="image/x-icon">
  <link rel="shortcut icon" href="./Common/Images/Icons/bn.png" type="image/x-icon">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <h3>Automatización de informes</h3>	

  <div class="container">
    <form id="formulario">
      <div class="form-group">
        <input type="text" id="titulo" name="titulo" class="form-control" maxlength="30" placeholder="Título">
      </div>

      <div class="form-group">
        <div class="row">
          <div class="col">
            <input type="text" id="bannercli" class="form-control" maxlength="30" placeholder="Banner del banco">
          </div>
          <div class="col-auto">
            <label for="bannercli2" class="btn btn-primary transparent-background">
              <input type="file" id="bannercli2" class="form-control-file d-none" accept="image/*" maxlength="30" onchange="handleFileSelect(event)">
              <img src="./Common/Images/Bottons/subir.png" alt="Seleccionar archivo" width="20" height="20">
            </label>
          </div>
        </div>
      </div>

      <div class="form-group">
        <div class="row">
          <div class="col">
            <p style="color: white"><b>Glosario de Términos</b></p>
          </div>
          <div class="col-auto">
            <label for="glosarioterm" class="btn btn-primary transparent-background">
              <img src="./Common/Images/Bottons/subir.png" alt="Seleccionar archivo" width="20" height="20" data-toggle="modal" data-target="#modalTerminos">
            </label>
          </div>
        </div>
      </div>

      <div class="form-group">
        <div class="row">
          <div class="col">
            <p style="color: white"><b>Detalle de Informe</b></p>
          </div>
          <div class="col-auto">
            <label for="detalleinf" class="btn btn-primary transparent-background">
              <img src="./Common/Images/Bottons/subir.png" alt="Seleccionar archivo" width="20" height="20" data-toggle="modal" data-target="#modalDetalles">
            </label>
          </div>
        </div>
      </div>

      <div class="form-group">
        <input type="text" id="piepagina" class="form-control" maxlength="30" placeholder="Pie de página">
      </div>

      <div class="form-group">
        <input type="text" id="cliente" class="form-control" maxlength="30" placeholder="Cliente">
      </div>

      <div class="form-group">
        <input type="text" id="tipoinforme" class="form-control" maxlength="30" placeholder="Tipo de informe">
      </div>

      <div class="form-group">
        <input type="text" id="codigorq" class="form-control" maxlength="30" placeholder="Código del requerimiento">
      </div>

      <div class="form-group">
        <input type="text" id="nombrerq" class="form-control" maxlength="30" placeholder="Nombre del requerimiento">
      </div>

      <div class="form-group">
        <div class="row">
          <div class="col-4">
            <div class="d-flex align-items-center">
              <input type="text" id="fecharq" class="form-control datepicker mr-2" placeholder="Fecha RQ">          
            </div>
		      </div>
        </div>
      </div>
	  
      <div class="form-group">
        <div class="row">
          <div class="col-3">
            <input type="text" id="version" class="form-control" maxlength="30" placeholder="Versión">
          </div>
        </div>
	    </div>

      <div class="form-group">
        <div class="row">
          <div class="col-4">
		        <div class="d-flex align-items-center">
              <input type="text" id="fechadoc" class="form-control datepicker mr-2" placeholder="Fecha Doc">          
            </div>
		      </div>
        </div>
      </div>


      <div class="form-group">
        <select id="responsable" class="form-control">
          <option value="">Responsable</option>    
          <option value="George Castrejón">George Castrejón</option>
          <option value="Elizabeth Neira">Elizabeth Neira</option>    
          <option value="Saul Galán">Saul Galán</option>
          <option value="Angelo Abregu">Angelo Abregu</option>
        </select>
      </div>

      <div class="form-group">
        <textarea id="descambio" class="form-control" rows="4" placeholder="Descripción del cambio"></textarea>
      </div>

      <div class="form-group">
        <input type="submit" class="btn btn-primary" value="Descargar" id="generateButton"> 
        <input type="submit" class="btn btn-secondary" value="Precargar" id="precargar">
        <input type="reset" class="btn btn-secondary" value="Limpiar" id="limpiar">
        <input type="file" class="btn btn-secondary" id="doc">
      </div>
    
      <!-- Modal Glosario Terminos-->
  <div class="modal fade" id="modalTerminos">
    <div class="modal-dialog modal-lg"> 
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Glosario de Términos</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="container">
            <div class="row">
              <div class="col-md-6">
                <h5>Término</h5>
                <input type="text" id="termino1" class="form-control" placeholder="Ingrese el término">
              </div>
              <div class="col-md-6">
                <h5>Descripción</h5>
                <input type="text" id="des_termino1" class="form-control" placeholder="Ingrese la descripción">
              </div>
            </div>
            <div class="row mt-3">
              <div class="col">
                <button type="button" class="btn btn-secondary" id="addRowBtn">Agregar</button>
              </div>
              <div class="col">
                <button type="button" class="btn btn-secondary" id="precargarTerminos">Precargar</button>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Detalle de Informe -->
  <div class="modal fade" id="modalDetalles">
    <div class="modal-dialog modal-lg"> 
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Detalle del Informe</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="container">
            <div class="col">
              <h5>Introducción</h5>
              <textarea id="introduccion" class="form-control" rows="3" placeholder="Ingrese introducción"></textarea>
            </div>
            <div class="col">
              <h5>Consideraciones</h5>
              <textarea id="consideraciones" class="form-control" rows="3" placeholder="Ingrese consideraciones"></textarea>
            </div>
            <div class="col">
              <h5>Alcance</h5>
              <textarea id="alcance" class="form-control" rows="3" placeholder="Ingrese alcance"></textarea>
            </div>
            <div class="col">
              <h5>Estrategia</h5>
              <textarea id="estrategia" class="form-control" rows="3" placeholder="Ingrese estrategia"></textarea>
            </div>
            <div class="col">
              <h5>Conclusiones</h5>
              <textarea id="conclusiones" class="form-control" rows="3" placeholder="Ingrese conclusiones"></textarea>
            </div>
            <div class="col">
              <h5>Recomendaciones</h5>
              <textarea id="recomendaciones" class="form-control" rows="3" placeholder="Ingrese recomendaciones"></textarea>
            </div> 
            <div class="row mt-3">
              <div class="col">
                <button type="button" class="btn btn-secondary" id="precargarDetalle">Precargar</button>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
      </div>
    </form>
  </div>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>  
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="./Common/JavaScripts/script.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/docxtemplater/3.37.12/docxtemplater.js"></script>
  <script src="https://unpkg.com/pizzip@3.1.4/dist/pizzip.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.js"></script>
  <script src="https://unpkg.com/pizzip@3.1.4/dist/pizzip-utils.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <script src="cargarPredeterminados.js"></script>
  <script src="limpiarCampos.js"></script>
  <script src="descargarWordTemplate.js"></script>
  <script src="cargarModalDetalle.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const addRowBtn = document.getElementById("addRowBtn");
      const container = document.querySelector(".modal-body .container");
      let rowCount = 1; 
  
      addRowBtn.addEventListener("click", function () {
        rowCount++;
        const newRow = document.createElement("div");
        newRow.className = "row";
        newRow.innerHTML = `
          <div class="col-md-6">
            <input type="text" id="termino${rowCount}" class="form-control" placeholder="Ingrese el término">
          </div>
          <div class="col-md-6">
            <input type="text" id="des_termino${rowCount}" class="form-control" placeholder="Ingrese la descripción">
          </div>
        `;
        container.insertBefore(newRow, addRowBtn.parentNode.parentNode);
      });
    });
  </script>
</body>
</html>
